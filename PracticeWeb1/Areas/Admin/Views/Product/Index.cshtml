@model IEnumerable<PracticeWeb1.Entities.Product>

@using PracticeWeb1.Areas.Admin.Models

@{
    ViewBag.Title = "Index";
}

<h2>Products</h2>

<p>
    @Html.Partial("_SmallButtonPartial", new SmallButtonModel
{
    Action = "Create",
    Glyph = "plus",
    Type = "primary",
    Text = "Add Product"
})
</p><br />

@using (Html.BeginForm("Index", "Product", FormMethod.Get, new { @class = "searchForm"}))
{
    @Html.TextBox("Search","",new { @class="form-control", @placeholder="Search by Name..."})    <button type="submit" class="btn btn-danger" onclick="this.form.Search.value=''"><span class="glyphicon glyphicon-minus"></span></button>

    @Html.DropDownList("Categories", null,"All", htmlAttributes: new { @class = "form-control", @onchange = "onchange=this.form.submit()" })

    <input type="submit" class="btn btn-info" value="Search" />
}
<br />

<table class="table table-striped table-condensed">
    <tr>
        <th>
            Category
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Title)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Price)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            Image
        </th>
        <th></th>
    </tr>

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.category.Title)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Title)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Price)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            <img src="~/Images/Uploads/Products/@item.Id/Thumbs/@item.ImageUrl" />
        </td>
        <td>
            @Html.Partial("_SmallButtonPartial", new SmallButtonModel
       {
           Action = "Edit",
           Glyph = "pencil",
           Type = "warning",
           Id = item.Id,
           Text = "Edit"
       })

            @Html.Partial("_SmallButtonPartial", new SmallButtonModel
       {
           Action = "Details",
           Glyph = "list",
           Type = "primary",
           Id = item.Id,
           Text = "Details"
       })

            @Html.Partial("_SmallButtonPartial", new SmallButtonModel
       {
           Action = "Delete",
           Glyph = "trash",
           Type = "danger",
           Id = item.Id,
           Text = "Delete"
       })


        </td>
    </tr>
}

</table>
